@model IEnumerable<GestionDeTurnos.Models.Process>

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}



<div id="page-wrapper">
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">Procesos</h1>
        </div>
        <!-- /.col-lg-12 -->
    </div>
    <!-- /.row -->
    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-default">
                <!-- /.panel-heading -->
                <div class="panel-body">
                    <table width="100%" class="table table-striped table-bordered table-hover" id="dataTables-Index">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Proceso</th>
                                <th>Fecha Inicio Proceso</th>
                                <th>Fecha Fin Proceso</th>
                                <th>Fecha Procesada</th>
                            </tr>
                        </thead>
                    </table>
                    <!-- /.table-responsive -->
                </div>
                <!-- /.panel-body -->
            </div>
            <!-- /.panel -->
        </div>
        <!-- /.col-lg-12 -->
    </div>
    <!-- /.row -->
</div>

<div id="page-wrapper">
    <div class="row">
        <div class="col-lg-12">
            <h2 class="page-header">Log Errores</h2>
        </div>
        <!-- /.col-lg-12 -->
    </div>
    <!-- /.row -->
    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-default">
                <!-- /.panel-heading -->
                <div class="panel-body">
                    <table width="100%" class="table table-striped table-bordered table-hover" id="dataTables-LogsError">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Fecha Error</th>
                                <th>Proceso</th>
                                <th>Descripcion</th>
                                <th>Proceso ID</th>
                            </tr>
                        </thead>
                    </table>
                    <!-- /.table-responsive -->
                </div>
                <!-- /.panel-body -->
            </div>
            <!-- /.panel -->
        </div>
        <!-- /.col-lg-12 -->
    </div>
    <!-- /.row -->
</div>



@section scripts {

<script>
        $(document).ready(function () {


            //Cargo la grilla

            $('#dataTables-Index').DataTable({
                  "ajax":
                  {
                          url: "@Url.Action("GetProcesos")",
                          type: "post",
                          dataSrc: ""
                      },
               "columns": [
                   { "data": "Id" },
                   { "data": "Nombre" },
                   { "data": "FechaProcesamientoInicio" },
                   { "data": "FechaProcesamientoFin" },
                   { "data": "FechaProcesada" }

               ],
                responsive: true,
                searching: true,
                "order": [[1, "desc"]]
            });


            $('#dataTables-LogsError').DataTable({
                  "ajax":
                  {
                          url: "@Url.Action("GetProcesoLogError")",
                          type: "post",
                          dataSrc: ""
                      },
               "columns": [
                   { "data": "Id" },
                   { "data": "Fecha" },
                   { "data": "Nombre" },
                   { "data": "ErrorDescription" },
                   { "data": "ProcesoId" }

               ],
                responsive: true,
                searching: true,
                "order": [[1, "desc"]]
           });


        });


</script>


}